"use strict";jQuery(function(m){m(".js-booking-mask").submit(function(t){if(t.preventDefault(),m(".location-select").hasClass("active")){for(var t=m(this).data("url"),e=m(this).data("site"),a=m(this).find('input[name="arrival"]').val(),r=m(this).find('input[name="departure"]').val(),a=dayjs(a).format("YYYY-MM-DD"),r=dayjs(r).format("YYYY-MM-DD"),s=m(this).find('input[name="rooms"]').val(),n=m(this).find('input[name="adults"]').val(),i=m(this).data("property-id"),o=(m(".js-booking-toggle").toggleClass("menu-open"),[]),l=Math.floor(n/s),d=n%s,p=0;p<s;p++)o.push(l+(p<d?1:0));var c=new URLSearchParams({rooms:s}),c=(c.set("adult",o.join(",")),c.toString());console.log(e),"clerkenwell"==e?window.location.href="https://reservations.thezetter.com/?arrive="+a+"&brand=ZETTER&chain=34634&currency=GBP&depart="+r+"&hotel=35181&level=chain&locale=en-US&productcurrency=GBP&"+c+"&theme=Zetter":"marylebone"==e?window.location.href="https://reservations.thezetter.com/?arrive="+a+"&brand=ZETTER&chain=34634&currency=GBP&depart="+r+"&hotel=35183&level=chain&locale=en-US&productcurrency=GBP&"+c+"&theme=Zetter":"marrables"==e?window.location.href="https://reservations.marrableshotel.com/?arrive="+a+"&chain=34634&level=hotel&hotel=35182&currency=GBP&depart="+r+"&"+c:"bloomsbury"==e?window.location.href=t+"/#/booking/results?propertyId="+i+"&arrival="+a+"&departure="+r+"&rooms="+s+"&adults="+n:(console.log(5),window.location.href="https://reservations.thezetter.com/?arrive="+a+"&brand=ZETTER&chain=34634&currency=GBP&depart="+r+"&level=chain&theme=Zetter")}else m(".location-select").addClass("error")}),m(".js-location-selector-up a").click(function(t){t.preventDefault();var t=m(this).attr("data-url"),e=m(this).attr("data-site"),a=m(this).attr("data-property-id"),r=m(this).text();m(".location-display").text(r),null==a&&""==a||m(this).parents("form").find("button[type=submit").removeClass("disabled"),m(this).parents("form").attr("data-url",t),m(this).parents("form").attr("data-property-id",a),m(this).parents("form").attr("data-site",e)}),m(".js-datepicker-trigger").flatpickr({mode:"range",minDate:"today",showMonths:"2",locale:{firstDayOfWeek:1},onClose:function(t){var e=t[0],t=t[1];m(".js-check-in-display").html(dayjs(e).format("ddd D MMM")),m(".js-check-out-display").html(dayjs(t).format("ddd D MMM")),m(".js-arrive-input").val(dayjs(e).format("YYYY-MM-DD")),m(".js-departure-input").val(dayjs(t).format("YYYY-MM-DD"))}}),m(".js-arrive-input").change(function(){var t=new Date(m(this).val()),e=dayjs(t).add(1,"day").format("YYYY-MM-DD");m(this).parents("form").find('input[name="departure"]').val(e),m(this).parents("form").find('input[name="departure"]').attr({min:dayjs(e).format("YYYY-MM-DD")}),m(this).parents("form").find(".js-check-in-display").html(dayjs(t).format("ddd D MMM")),m(this).parents("form").find(".js-check-out-display").html(dayjs(e).format("ddd D MMM"))}),m(".js-departure-input").change(function(){var t=new Date(this.value);m(this).parents("form").find('input[name="departure"]').val(dayjs(t).format("YYYY-MM-DD")),m(this).parents("form").find('input[name="departure"]').focus(),m(this).parents("form").find(".js-check-out-display").html(dayjs(t).format("ddd D MMM"))}),m(".native-depart").change(function(){var t=new Date(this.value);m(this).parents("form").find('input[name="departure"]').val(dayjs(t).format("YYYY-MM-DD")),m(this).parents("form").find('input[name="departure"]').focus(),m(this).parents("form").find(".js-check-out-display").html(dayjs(t).format("ddd D MMM"))}),m(".selector-control").on("click",function(t){t.preventDefault();var e,a,r,s,t=m(this),n=t.parents(".selector-wrap").attr("data-max"),i=t.parents(".selector-wrap").attr("data-min"),o=t.parents(".selector-wrap").find(".selector-value").text(),o=parseInt(o),l=Number(i)+Number(1),d=Number(n)-Number(1),p=(t.hasClass("plus")?(e=n<=!o?o:o<n?(t.parents(".selector-wrap").find(".minus").removeClass("disabled"),parseFloat(o)+1):n,o==d&&t.parents(".selector-wrap").find(".plus").addClass("disabled")):(i<o?(e=parseFloat(o)-1,t.parents(".selector-wrap").find(".plus").removeClass("disabled")):e=i,o==l&&t.parents(".selector-wrap").find(".minus").addClass("disabled")),t.parents(".selector-wrap").find(".selector-value").text(e),t.parents(".selector-wrap").find("input").val(e),t.parents(".select-inner").find('input[name="rooms"]').val(),t.parents(".select-inner").find('input[name="adults"]').val(),t.parents(".select-inner").find('input[name="children"]').val(),0),c=(t.parents("form").find(".js-count-rooms").each(function(){a=m(this).val(),p=+p+ +a}),1<p?m(".js-rooms-display").text(p+" Rooms"):m(".js-rooms-display").text(p+" Room"),0),u=(t.parents("form").find(".js-count-adults").each(function(){r=m(this).val(),c=+c+ +r}),1<c?m(".js-adults-display").text(c+" Adults"):m(".js-adults-display").text(c+" Adult"),0);t.parents("form").find(".js-count-children").each(function(){s=m(this).val(),u=+u+ +s}),1<u||0===u?m(".js-children-display").text(u+" Children"):m(".js-children-display").text(u+" Child")}),m(".js-rooms-guests-trigger, .rooms-guests-close").click(function(t){t.preventDefault(),m(this).parents("form").find(".rooms-guests-select").toggleClass("active")})});