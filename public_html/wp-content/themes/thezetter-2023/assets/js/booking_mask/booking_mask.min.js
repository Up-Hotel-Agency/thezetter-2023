"use strict";jQuery(function(m){m(".js-booking-mask").submit(function(t){var a,e,s,r,n;t.preventDefault(),m(".location-select").hasClass("active")?(t=m(this).data("url"),a=m(this).find('input[name="arrival"]').val(),e=m(this).find('input[name="departure"]').val(),a=dayjs(a).format("YYYY-MM-DD"),e=dayjs(e).format("YYYY-MM-DD"),s=m(this).find('input[name="rooms"]').val(),r=m(this).find('input[name="adults"]').val(),m(this).find('input[name="children"]').val(),n=m(this).data("property-id"),m(".js-booking-toggle").toggleClass("menu-open"),window.location.href=t+"/#/booking/results?propertyId="+n+"&arrival="+a+"&departure="+e+"&rooms="+s+"&adults="+r):m(".location-select").addClass("error")}),m(".js-location-selector-up a").click(function(t){t.preventDefault();var t=m(this).attr("data-url"),a=m(this).attr("data-property-id"),e=m(this).text();m(".location-display").text(e),null==a&&""==a||m(this).parents("form").find("button[type=submit").removeClass("disabled"),m(this).parents("form").attr("data-url",t),m(this).parents("form").attr("data-property-id",a)}),m(".js-datepicker-trigger").flatpickr({mode:"range",minDate:"today",showMonths:"2",locale:{firstDayOfWeek:1},onClose:function(t){var a=t[0],t=t[1];m(".js-check-in-display").html(dayjs(a).format("ddd D MMM")),m(".js-check-out-display").html(dayjs(t).format("ddd D MMM")),m(".js-arrive-input").val(dayjs(a).format("YYYY-MM-DD")),m(".js-departure-input").val(dayjs(t).format("YYYY-MM-DD"))}}),m(".js-arrive-input").change(function(){var t=new Date(m(this).val()),a=dayjs(t).add(1,"day").format("YYYY-MM-DD");m(this).parents("form").find('input[name="departure"]').val(a),m(this).parents("form").find('input[name="departure"]').attr({min:dayjs(a).format("YYYY-MM-DD")}),m(this).parents("form").find(".js-check-in-display").html(dayjs(t).format("ddd D MMM")),m(this).parents("form").find(".js-check-out-display").html(dayjs(a).format("ddd D MMM"))}),m(".js-departure-input").change(function(){var t=new Date(this.value);m(this).parents("form").find('input[name="departure"]').val(dayjs(t).format("YYYY-MM-DD")),m(this).parents("form").find('input[name="departure"]').focus(),m(this).parents("form").find(".js-check-out-display").html(dayjs(t).format("ddd D MMM"))}),m(".native-depart").change(function(){var t=new Date(this.value);m(this).parents("form").find('input[name="departure"]').val(dayjs(t).format("YYYY-MM-DD")),m(this).parents("form").find('input[name="departure"]').focus(),m(this).parents("form").find(".js-check-out-display").html(dayjs(t).format("ddd D MMM"))}),m(".selector-control").on("click",function(t){t.preventDefault();var a,e,s,r,t=m(this),n=t.parents(".selector-wrap").attr("data-max"),i=t.parents(".selector-wrap").attr("data-min"),d=t.parents(".selector-wrap").find(".selector-value").text(),d=parseInt(d),o=Number(i)+Number(1),l=Number(n)-Number(1),p=(t.hasClass("plus")?(a=n<=!d?d:d<n?(t.parents(".selector-wrap").find(".minus").removeClass("disabled"),parseFloat(d)+1):n,d==l&&t.parents(".selector-wrap").find(".plus").addClass("disabled")):(i<d?(a=parseFloat(d)-1,t.parents(".selector-wrap").find(".plus").removeClass("disabled")):a=i,d==o&&t.parents(".selector-wrap").find(".minus").addClass("disabled")),t.parents(".selector-wrap").find(".selector-value").text(a),t.parents(".selector-wrap").find("input").val(a),t.parents(".select-inner").find('input[name="rooms"]').val(),t.parents(".select-inner").find('input[name="adults"]').val(),t.parents(".select-inner").find('input[name="children"]').val(),0),u=(t.parents("form").find(".js-count-rooms").each(function(){e=m(this).val(),p=+p+ +e}),1<p?m(".js-rooms-display").text(p+" Rooms"):m(".js-rooms-display").text(p+" Room"),0),f=(t.parents("form").find(".js-count-adults").each(function(){s=m(this).val(),u=+u+ +s}),1<u?m(".js-adults-display").text(u+" Adults"):m(".js-adults-display").text(u+" Adult"),0);t.parents("form").find(".js-count-children").each(function(){r=m(this).val(),f=+f+ +r}),1<f||0===f?m(".js-children-display").text(f+" Children"):m(".js-children-display").text(f+" Child")}),m(".js-rooms-guests-trigger, .rooms-guests-close").click(function(t){t.preventDefault(),m(this).parents("form").find(".rooms-guests-select").toggleClass("active")})});