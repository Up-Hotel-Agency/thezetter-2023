"use strict";jQuery(function(h){h(".js-booking-mask").submit(function(t){if(t.preventDefault(),h(".location-select").hasClass("active")){h(this).data("url");for(var t=h(this).data("site"),e=h(this).find('input[name="arrival"]').val(),a=h(this).find('input[name="departure"]').val(),e=dayjs(e).format("YYYY-MM-DD"),a=dayjs(a).format("YYYY-MM-DD"),r=h(this).find('input[name="rooms"]').val(),s=h(this).find('input[name="adults"]').val(),n=(h(this).data("property-id"),h(".js-booking-toggle").toggleClass("menu-open"),[]),i=Math.floor(s/r),o=s%r,l=0;l<r;l++)n.push(i+(l<o?1:0));s=new URLSearchParams({rooms:r}),s=(s.set("adult",n.join(",")),s.toString());console.log(t),window.location.href="clerkenwell"==t?"https://reservations.thezetter.com/?arrive="+e+"&brand=ZETTER&chain=34634&currency=GBP&depart="+a+"&hotel=35181&level=chain&locale=en-US&productcurrency=GBP&"+s+"&theme=Zetter":"marylebone"==t?"https://reservations.thezetter.com/?arrive="+e+"&brand=ZETTER&chain=34634&currency=GBP&depart="+a+"&hotel=35183&level=chain&locale=en-US&productcurrency=GBP&"+s+"&theme=Zetter":"marrables"==t?"https://reservations.marrableshotel.com/?arrive="+e+"&chain=34634&level=hotel&hotel=35182&currency=GBP&depart="+a+"&"+s:"bloomsbury"==t?"https://reservations.thezetter.com/?arrive="+e+"&brand=ZETTER&chain=34634&child=0&currency=GBP&depart="+a+"&hotel=95317&level=chain&locale=en-US&productcurrency=GBP&"+s+"&theme=Zetter":"https://reservations.thezetter.com/?arrive="+e+"&brand=ZETTER&chain=34634&currency=GBP&depart="+a+"&level=chain&theme=Zetter"}else h(".location-select").addClass("error")}),h(".js-location-selector-up a").click(function(t){t.preventDefault();var t=h(this).attr("data-url"),e=h(this).attr("data-site"),a=h(this).attr("data-property-id"),r=h(this).text();h(".location-display").text(r),null==a&&""==a||h(this).parents("form").find("button[type=submit").removeClass("disabled"),h(this).parents("form").attr("data-url",t),h(this).parents("form").attr("data-property-id",a),h(this).parents("form").attr("data-site",e)}),h(".js-datepicker-trigger").flatpickr({mode:"range",minDate:"today",showMonths:"2",locale:{firstDayOfWeek:1},onClose:function(t){var e=t[0],t=t[1];h(".js-check-in-display").html(dayjs(e).format("ddd D MMM")),h(".js-check-out-display").html(dayjs(t).format("ddd D MMM")),h(".js-arrive-input").val(dayjs(e).format("YYYY-MM-DD")),h(".js-departure-input").val(dayjs(t).format("YYYY-MM-DD"))}}),h(".js-arrive-input").change(function(){var t=new Date(h(this).val()),e=dayjs(t).add(1,"day").format("YYYY-MM-DD");h(this).parents("form").find('input[name="departure"]').val(e),h(this).parents("form").find('input[name="departure"]').attr({min:dayjs(e).format("YYYY-MM-DD")}),h(this).parents("form").find(".js-check-in-display").html(dayjs(t).format("ddd D MMM")),h(this).parents("form").find(".js-check-out-display").html(dayjs(e).format("ddd D MMM"))}),h(".js-departure-input").change(function(){var t=new Date(this.value);h(this).parents("form").find('input[name="departure"]').val(dayjs(t).format("YYYY-MM-DD")),h(this).parents("form").find('input[name="departure"]').focus(),h(this).parents("form").find(".js-check-out-display").html(dayjs(t).format("ddd D MMM"))}),h(".native-depart").change(function(){var t=new Date(this.value);h(this).parents("form").find('input[name="departure"]').val(dayjs(t).format("YYYY-MM-DD")),h(this).parents("form").find('input[name="departure"]').focus(),h(this).parents("form").find(".js-check-out-display").html(dayjs(t).format("ddd D MMM"))}),h(".selector-control").on("click",function(t){t.preventDefault();var e,a,r,s,t=h(this),n=t.parents(".selector-wrap").attr("data-max"),i=t.parents(".selector-wrap").attr("data-min"),o=t.parents(".selector-wrap").find(".selector-value").text(),o=parseInt(o),l=Number(i)+Number(1),d=Number(n)-Number(1),c=(t.hasClass("plus")?(e=n<=!o?o:o<n?(t.parents(".selector-wrap").find(".minus").removeClass("disabled"),parseFloat(o)+1):n,o==d&&t.parents(".selector-wrap").find(".plus").addClass("disabled")):(i<o?(e=parseFloat(o)-1,t.parents(".selector-wrap").find(".plus").removeClass("disabled")):e=i,o==l&&t.parents(".selector-wrap").find(".minus").addClass("disabled")),t.parents(".selector-wrap").find(".selector-value").text(e),t.parents(".selector-wrap").find("input").val(e),t.parents(".select-inner").find('input[name="rooms"]').val(),t.parents(".select-inner").find('input[name="adults"]').val(),t.parents(".select-inner").find('input[name="children"]').val(),0),p=(t.parents("form").find(".js-count-rooms").each(function(){a=h(this).val(),c=+c+ +a}),1<c?h(".js-rooms-display").text(c+" Rooms"):h(".js-rooms-display").text(c+" Room"),0),u=(t.parents("form").find(".js-count-adults").each(function(){r=h(this).val(),p=+p+ +r}),1<p?h(".js-adults-display").text(p+" Adults"):h(".js-adults-display").text(p+" Adult"),0);t.parents("form").find(".js-count-children").each(function(){s=h(this).val(),u=+u+ +s}),1<u||0===u?h(".js-children-display").text(u+" Children"):h(".js-children-display").text(u+" Child")}),h(".js-rooms-guests-trigger, .rooms-guests-close").click(function(t){t.preventDefault(),h(this).parents("form").find(".rooms-guests-select").toggleClass("active")})});